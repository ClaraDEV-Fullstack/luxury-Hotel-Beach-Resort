import{o as g,j as e,s as x,a as m}from"./index-GsJMJi6y.js";import{u as j,r}from"./react-CcRDz-_R.js";import{q as f,r as w}from"./index-BhZx81v5.js";function E(){const i=j(),[s,u]=r.useState({email:"",password:""}),[l,o]=r.useState(""),[n,d]=r.useState(!1),c=a=>{const{name:t,value:h}=a.target;u({...s,[t]:h})},p=async a=>{a.preventDefault(),o("");try{await x(m,s.email,s.password),localStorage.setItem("userEmail",s.email)}catch(t){o(t.message||"Failed to log in.")}};return r.useEffect(()=>{const a=g(m,t=>{t&&i("/profile")});return()=>a()},[i]),e.jsx("div",{className:"login-page",children:e.jsxs("div",{className:"login-container",children:[e.jsx("h2",{className:"login-title",children:"Login"}),l&&e.jsx("p",{className:"login-error",children:l}),e.jsxs("form",{onSubmit:p,className:"login-form",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"email",className:"input-label",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",placeholder:"Enter your email",value:s.email,onChange:c,required:!0,className:"input-field"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{htmlFor:"password",className:"input-label",children:"Password"}),e.jsx("input",{type:n?"text":"password",id:"password",name:"password",placeholder:"Enter your password",value:s.password,onChange:c,required:!0,className:"input-field"}),e.jsx("button",{type:"button",onClick:()=>d(!n),className:"password-toggle",children:n?e.jsx(f,{size:20}):e.jsx(w,{size:20})})]}),e.jsx("button",{type:"submit",className:"login-button",children:"Login"})]}),e.jsxs("p",{className:"signup-link",children:["Don't have an account?"," ",e.jsx("a",{href:"/signup",className:"signup-link-text",children:"Sign up here"})]})]})})}export{E as LoginPage};

import{a as l,j as e}from"./index-GsJMJi6y.js";import{u as p,r as t}from"./react-CcRDz-_R.js";import{s as x,t as j,u as f,v as N}from"./index-BhZx81v5.js";function S(){const a=p(),s=l.currentUser,[n,r]=t.useState(localStorage.getItem("username")||"Guest"),[c,o]=t.useState(!1),[i,m]=t.useState(n);t.useEffect(()=>{s||a("/login")},[s,a]);const u=()=>{o(!0)},d=()=>{r(i),localStorage.setItem("username",i),o(!1)},h=()=>{l.signOut(),localStorage.removeItem("username"),a("/login")};return s?e.jsx("div",{className:"profile-page",children:e.jsxs("div",{className:"profile-container",children:[e.jsxs("h2",{className:"profile-title",children:["Welcome, ",n,"!"]}),e.jsxs("div",{className:"profile-card",children:[e.jsx(x,{size:100,className:"profile-avatar"}),c?e.jsxs("div",{className:"edit-username",children:[e.jsx("input",{type:"text",value:i,onChange:g=>m(g.target.value),className:"username-input"}),e.jsx("button",{onClick:d,className:"save-button",children:e.jsx(j,{size:16})})]}):e.jsxs("p",{className:"profile-username",children:[n," ",e.jsx("button",{onClick:u,className:"edit-button",children:e.jsx(f,{size:16})})]}),e.jsxs("p",{className:"profile-email",children:[e.jsx("strong",{children:"Email:"})," ",s==null?void 0:s.email]}),e.jsx("div",{className:"profile-buttons",children:e.jsxs("button",{onClick:()=>a("/"),className:"home-button",children:["Go to Home ",e.jsx(N,{size:16}),e.jsx("span",{className:"tooltip",children:"Enjoy your stay and proceed with booking!"})]})}),e.jsx("button",{onClick:h,className:"logout-button",children:"Logout"})]})]})}):e.jsx("div",{className:"not-logged-in",children:e.jsxs("p",{children:["You are not logged in. Please"," ",e.jsx("a",{href:"/signup",className:"auth-link",children:"Sign Up"})," ","or"," ",e.jsx("a",{href:"/login",className:"auth-link",children:"Log In"}),"."]})})}export{S as ProfilePage};
